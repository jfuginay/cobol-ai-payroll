# COBOL Payroll Calculator with Swagger API

A demonstration of AI-generated COBOL code with modern REST API wrapper and interactive Swagger documentation.

## Quick Demo (60 seconds)

1. **Install Dependencies**
   ```bash
   # Install GnuCOBOL (if not installed)
   brew install gnucobol  # macOS
   # or
   sudo apt-get install gnucobol  # Ubuntu/Debian

   # Install Node dependencies
   npm install
   ```

2. **Build COBOL Program**
   ```bash
   npm run build-cobol
   ```

3. **Start API Server**
   ```bash
   npm start
   ```

4. **View Interactive API Docs**
   Open http://localhost:3000/api-docs in your browser

## Demo Highlights

- **100% AI-Generated COBOL**: The entire payroll calculation engine was generated by AI
- **Decimal Precision**: COBOL's COMP-3 ensures exact financial calculations (no floating-point errors)
- **Modern Integration**: REST API with Swagger UI makes COBOL accessible to modern developers
- **Real Calculations**: Accurate federal tax, state tax, FICA, and overtime calculations

## Test the API

### Using Swagger UI
1. Navigate to http://localhost:3000/api-docs
2. Click on "POST /calculate"
3. Click "Try it out"
4. Use the example payloads provided
5. Click "Execute" to see instant results

### Using cURL
```bash
curl -X POST http://localhost:3000/api/v1/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "employeeId": "12345",
    "employeeName": "John Doe",
    "hourlyRate": 25.00,
    "hoursWorked": 45.0,
    "state": "CA",
    "filingStatus": "S",
    "allowances": 2
  }'
```

## Verify Accuracy
Compare the results with online payroll calculators:
- [ADP Payroll Calculator](https://www.adp.com/resources/tools/calculators/salary-paycheck-calculator.aspx)
- [PaycheckCity Calculator](https://www.paycheckcity.com/calculator/hourly)

## AI Strategy Success Points

1. **Structured Prompting**: Used COBOL examples and patterns to guide AI
2. **Domain Knowledge**: Leveraged COBOL's strengths in financial calculations
3. **Modern Wrapper**: Made legacy language accessible via REST API
4. **Documentation**: Auto-generated Swagger docs eliminate learning curve

## Files Structure
```
payroll-calc/
├── payroll.cob          # AI-generated COBOL program
├── payroll-api.yaml     # OpenAPI specification
├── server.js            # Express API server
├── package.json         # Node dependencies
└── README.md           # This file
```

## Why This Demonstrates AI + COBOL Success

1. **Working Code in Minutes**: Complete payroll system generated faster than manual coding
2. **Business Logic Accuracy**: Complex tax calculations implemented correctly
3. **Modern Integration**: Shows COBOL isn't stuck in the past
4. **Verifiable Results**: Output matches professional payroll software

## Next Steps for $1,000 Bounty
- Add more state tax tables
- Implement year-to-date calculations
- Add PDF pay stub generation
- Create Docker container for easy deployment